<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Publipostage - TikTok Auth</title>
<style>
  body { font-family: monospace; max-width: 600px; margin: 40px auto; padding: 20px; }
  code { background: #f0f0f0; padding: 8px 16px; font-size: 1.2em; display: block; margin: 16px 0; word-break: break-all; }
</style>
<script>
  const params = new URLSearchParams(window.location.search);
  const authCode = params.get("code");
  const error = params.get("error");
  window.onload = function() {
    if (authCode) {
      document.getElementById("result").innerHTML =
        "<h1>Authorization successful</h1>" +
        "<p>Copy this code and paste it in the terminal:</p>" +
        "<code>" + authCode + "</code>";
    } else {
      document.getElementById("result").innerHTML =
        "<h1>Error</h1><p>" + (error || "No code received") + "</p>";
    }
  };
</script>
</head>
<body>
<div id="result"><p>Loading...</p></div>
</body>
</html>
